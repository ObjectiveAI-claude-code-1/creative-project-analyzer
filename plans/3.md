# Implementation Plan: Creative Project Analyzer

## Overview

The Creative Project Analyzer is a **vector function** that evaluates creative works across 8 distinct dimensions, producing a rich multidimensional assessment. It accepts creative works in multiple media formats (text, image, video, audio) along with optional contextual information that enables deeper analysis.

**Key Requirements (from SPEC.md):**
- Vibrant, creative, and experimental (NOT joke-related)
- About half of tasks should be mapped
- Input schema must include optional fields
- Some tasks must be conditionally skipped based on optional fields
- Each task should be very distinct from others

---

## Input Schema Structure

```json
{
  "type": "object",
  "description": "A creative project to analyze across multiple dimensions of artistic merit",
  "properties": {
    "creative_work": {
      "anyOf": [
        {
          "type": "string",
          "description": "A detailed text description of the creative project, its concept, execution, and key elements"
        },
        {
          "type": "image", 
          "description": "Visual documentation of the work - photographs, renders, screenshots, or the digital work itself"
        },
        {
          "type": "video",
          "description": "Video documentation for time-based, performative, or multimedia works"
        },
        {
          "type": "audio",
          "description": "Audio recording for musical compositions, soundscapes, or audio-based projects"
        }
      ],
      "description": "The creative work to be evaluated - can be text description, image, video, or audio"
    },
    "creator_statement": {
      "type": "string",
      "description": "Optional: The creator's statement describing their intent, goals, vision, and what they were trying to achieve. Enables Intentional Coherence evaluation."
    },
    "target_audience": {
      "type": "string", 
      "description": "Optional: Description of the intended audience including demographics, expertise level, cultural context, and expectations. Enables Audience Resonance evaluation."
    },
    "project_constraints": {
      "type": "string",
      "description": "Optional: Description of project limitations including budget, timeline, materials, client requirements, or technical restrictions. Enables Constraint Navigation evaluation."
    },
    "references": {
      "type": "string",
      "description": "Optional: List or description of reference works, influences, inspirations, and creative lineage. Enables Contextual Positioning evaluation."
    }
  },
  "required": ["creative_work"]
}
```

### Field Descriptions

| Field | Required | Description | Enables Task |
|-------|----------|-------------|--------------|
| `creative_work` | ✅ Yes | The primary creative artifact to evaluate | All 8 tasks |
| `creator_statement` | ❌ No | Artist's intent and vision statement | Task 5: Intentional Coherence |
| `target_audience` | ❌ No | Who the work is designed for | Task 6: Audience Resonance |
| `project_constraints` | ❌ No | Limitations the creator worked within | Task 7: Constraint Navigation |
| `references` | ❌ No | Influences and creative lineage | Task 8: Contextual Positioning |

---

## Input Maps

**No input maps are needed** for this function. 

Reasoning:
- This is not a mapped task execution scenario - we're not iterating over a list of items
- Each task evaluates the same creative work from a different perspective
- The optional fields control conditional execution, not iteration
- All tasks receive the same input object (or subsets of it)

---

## Function Definition

```json
{
  "type": "vector.function",
  "description": "Analyzes creative projects across 8 distinct dimensions: Conceptual Originality, Technical Execution, Emotional Resonance, Aesthetic Cohesion (always evaluated), plus Intentional Coherence, Audience Resonance, Constraint Navigation, and Contextual Positioning (conditionally evaluated based on optional inputs). Produces a vector of scores from 0 to 1 for each applicable dimension.",
  "input_schema": { /* see above */ },
  "tasks": [
    /* 8 tasks defined below - 4 always run, 4 conditional */
  ]
}
```

---

## Task Definitions

### Always-Evaluated Tasks (4 tasks)

#### Task 1: Conceptual Originality Scorer
**Type:** `vector.completion` (mapped across 4 sub-dimensions)

**Sub-dimensions evaluated:**
1. **Idea Freshness** - Is the core concept genuinely new?
2. **Perspective Novelty** - Does it approach familiar territory unexpectedly?
3. **Combinatorial Creativity** - Does it synthesize disparate elements?
4. **Revelatory Quality** - Does it make us see something familiar in new light?

**Responses:** Binary LOW/HIGH for each sub-dimension  
**Output expression:** Average of the 4 HIGH scores → score from 0 to 1

---

#### Task 2: Technical Execution Scorer
**Type:** `vector.completion` (mapped across 4 sub-dimensions)

**Sub-dimensions evaluated:**
1. **Skill Demonstration** - Mastery of medium and techniques
2. **Finish and Polish** - Refinement and intentional details
3. **Technical Ambition** - Difficulty of attempted feats
4. **Problem-Solving** - Creative solutions to technical challenges

**Responses:** 5-level scale (None/Low/Medium/High/Exceptional)  
**Output expression:** Weighted average → score from 0 to 1

---

#### Task 3: Emotional Resonance Scorer
**Type:** `vector.completion` (mapped across 4 sub-dimensions)

**Sub-dimensions evaluated:**
1. **Emotional Specificity** - Precise, identifiable feelings evoked
2. **Emotional Depth** - Complex, layered emotional content
3. **Affective Honesty** - Authentic vs manipulative emotional appeal
4. **Lasting Impression** - Feelings that linger after experiencing

**Responses:** Binary WEAK/STRONG for each sub-dimension  
**Output expression:** Average of STRONG scores → score from 0 to 1

---

#### Task 4: Aesthetic Cohesion Scorer
**Type:** `vector.completion` (mapped across 4 sub-dimensions)

**Sub-dimensions evaluated:**
1. **Sensory Harmony** - Visual/auditory elements work together
2. **Tonal Consistency** - Maintains consistent voice throughout
3. **Intentional Contrast** - Purposeful when elements clash
4. **Gestalt Quality** - Whole exceeds sum of parts

**Responses:** 5-level scale (Disjointed/Weak/Moderate/Strong/Perfect)  
**Output expression:** Weighted average → score from 0 to 1

---

### Conditionally-Evaluated Tasks (4 tasks)

#### Task 5: Intentional Coherence Scorer
**Condition:** `input.creator_statement != null`  
**Type:** `vector.completion` (mapped across 4 sub-dimensions)

**Sub-dimensions evaluated:**
1. **Goal Achievement** - Accomplishes stated objectives
2. **Means-Ends Alignment** - Choices appropriate for stated goals
3. **Self-Awareness** - Creator understands their own work
4. **Honest Ambition** - Intentions feel authentic

**Responses:** Binary MISALIGNED/ALIGNED for each  
**Output expression:** Average of ALIGNED scores → score from 0 to 1

**Skip expression:** `input.creator_statement == None`

---

#### Task 6: Audience Resonance Scorer
**Condition:** `input.target_audience != null`  
**Type:** `vector.completion` (mapped across 4 sub-dimensions)

**Sub-dimensions evaluated:**
1. **Accessibility** - Approachable for target audience
2. **Relevance** - Addresses matters audience cares about
3. **Register Appropriateness** - Tone/complexity right for audience
4. **Cultural Fluency** - Speaks audience's aesthetic language

**Responses:** 4-level scale (Poor/Fair/Good/Excellent)  
**Output expression:** Weighted average → score from 0 to 1

**Skip expression:** `input.target_audience == None`

---

#### Task 7: Constraint Navigation Scorer
**Condition:** `input.project_constraints != null`  
**Type:** `vector.completion` (mapped across 4 sub-dimensions)

**Sub-dimensions evaluated:**
1. **Resourcefulness** - Remarkable results with limited means
2. **Constraint Transformation** - Limitations become opportunities
3. **Scope Calibration** - Ambition appropriate to constraints
4. **Graceful Compromise** - Trade-offs handled elegantly

**Responses:** Binary STRUGGLED/THRIVED for each  
**Output expression:** Average of THRIVED scores → score from 0 to 1

**Skip expression:** `input.project_constraints == None`

---

#### Task 8: Contextual Positioning Scorer
**Condition:** `input.references != null`  
**Type:** `vector.completion` (mapped across 4 sub-dimensions)

**Sub-dimensions evaluated:**
1. **Influence Integration** - References absorbed and transformed
2. **Tradition Awareness** - Understands creative lineage
3. **Productive Departure** - Divergences are generative
4. **Contribution Clarity** - Clear addition to the conversation

**Responses:** 5-level scale (Imitative/Derivative/Competent/Distinctive/Transcendent)  
**Output expression:** Weighted average → score from 0 to 1

**Skip expression:** `input.references == None`

---

## Expressions to Write

### Input Expressions (JMESPath)

For each task's input:
```
input.creative_work  // Primary content for evaluation
input.creator_statement  // For Task 5
input.target_audience  // For Task 6
input.project_constraints  // For Task 7
input.references  // For Task 8
```

### Message Content Expressions (Starlark)

For user messages combining inputs:
```starlark
# Task 5 example - combining creative work with creator statement
'Evaluate this creative work against the creator\'s stated intent:\n\n**CREATIVE WORK:**\n' + str(input['creative_work']) + '\n\n**CREATOR\'S STATEMENT:**\n' + input['creator_statement']
```

### Skip Expressions (Starlark)

For conditional tasks:
```starlark
# Task 5: Skip when no creator_statement
input.get('creator_statement') == None

# Task 6: Skip when no target_audience  
input.get('target_audience') == None

# Task 7: Skip when no project_constraints
input.get('project_constraints') == None

# Task 8: Skip when no references
input.get('references') == None
```

### Output Expressions (Starlark)

Binary scoring (LOW/HIGH or similar):
```starlark
output['scores'][1]  # Score for HIGH response (index 1)
```

5-level weighted scoring:
```starlark
output['scores'][0] * 0.0 + output['scores'][1] * 0.25 + output['scores'][2] * 0.5 + output['scores'][3] * 0.75 + output['scores'][4] * 1.0
```

4-level weighted scoring:
```starlark
output['scores'][0] * 0.0 + output['scores'][1] * 0.33 + output['scores'][2] * 0.67 + output['scores'][3] * 1.0
```

---

## Test Inputs

### Test 1: Minimal Input (Text Only)
**Purpose:** Verify 4 core tasks run, 4 conditional tasks skip
```json
{
  "creative_work": "A large-scale kinetic sculpture made from recycled ocean plastic. The piece features thousands of translucent plastic fragments suspended on thin cables, responding to air currents to create wave-like movements. At night, UV lights cause the plastic to glow in ethereal blues and greens. The sculpture is installed on a pier overlooking the ocean where the plastic was collected."
}
```
**Expected:** 4 scores (originality, execution, resonance, cohesion)

---

### Test 2: Full Input (All Optional Fields)
**Purpose:** Verify all 8 tasks run
```json
{
  "creative_work": "An interactive mobile app that generates personalized ambient soundscapes based on the user's heart rate, location, time of day, and weather conditions. The sounds blend field recordings, synthesized tones, and algorithmically composed melodies. Users can share their soundscapes as audio postcards.",
  "creator_statement": "I wanted to create a tool that helps people feel more connected to their immediate environment and internal states. The goal was to make invisible data—heartbeat, weather patterns, geographic location—audible and beautiful. I was inspired by how our moods shift with seasons and places, and wanted to externalize that connection.",
  "target_audience": "Mindfulness practitioners, ambient music enthusiasts, and people who use apps for meditation or focus. Ages 25-45, comfortable with technology, interested in wellness and self-awareness.",
  "project_constraints": "Solo developer with 6 months development time. Budget of $5,000 for licensing field recordings. No ML expertise, so relied on rule-based algorithms. Had to work within iOS audio framework limitations.",
  "references": "Brian Eno's generative music systems, the Calm and Headspace apps, Ryoji Ikeda's data-driven installations, and the concept of 'sonification' in scientific data visualization."
}
```
**Expected:** 8 scores (all dimensions)

---

### Test 3: Image Input with Partial Context
**Purpose:** Test image media type and subset of optional fields
```json
{
  "creative_work": "[IMAGE: A photograph of a mixed-media painting combining oil paint, gold leaf, and embedded electronic components. The painting depicts a Byzantine-style icon with a serene face, but the halo is made of circuit boards and LEDs that pulse slowly.]",
  "creator_statement": "I explore the intersection of sacred art traditions and contemporary technology. This piece asks whether our devices have become objects of devotion, and whether ancient contemplative forms can hold new meanings.",
  "target_audience": "Contemporary art collectors and gallery visitors interested in techno-spiritual themes. Assumed familiarity with art history and comfort with conceptual work."
}
```
**Expected:** 6 scores (4 core + intentional coherence + audience resonance)

---

### Test 4: Video/Performance Work
**Purpose:** Test video media type and performance-based work
```json
{
  "creative_work": "[VIDEO: A 12-minute performance piece where the artist, dressed in white, slowly covers themselves in honey and then feathers while reciting childhood memories. The piece takes place in a stark white gallery with a single spotlight.]",
  "project_constraints": "Limited to one performance for documentation. Budget for materials under $200. Had to complete within gallery's 3-hour slot including setup and cleanup. No technical support available."
}
```
**Expected:** 5 scores (4 core + constraint navigation)

---

### Test 5: Musical/Audio Work
**Purpose:** Test audio media type
```json
{
  "creative_work": "[AUDIO: A 45-minute electroacoustic composition that layers processed recordings of endangered bird species with synthetic drones and glitch textures. The piece gradually shifts from cacophonous density to sparse, melancholic fragments as species 'disappear' from the mix.]",
  "references": "Pauline Oliveros' deep listening practice, Bernie Krause's bioacoustic work, Autechre's electronic abstractions, and John Luther Adams' environmental compositions."
}
```
**Expected:** 5 scores (4 core + contextual positioning)

---

### Test 6: High Originality, Low Execution
**Purpose:** Test distinct dimension scores
```json
{
  "creative_work": "A conceptual art piece where the artist purchased a small cloud using weather modification technology and named it. The cloud exists somewhere over the Pacific, drifting. Ownership is represented by an NFT that displays current satellite imagery of the cloud's location. The concept is documented only through legal contracts, satellite data, and a certificate of authenticity."
}
```
**Expected:** High originality, potentially lower execution scores

---

### Test 7: High Execution, Low Originality
**Purpose:** Test distinct dimension scores (inverse)
```json
{
  "creative_work": "A hyper-realistic oil painting of a bowl of fruit on a wooden table, rendered with extraordinary precision over 400 hours. Every grape's bloom, every wood grain, every subtle reflection is captured with photographic accuracy. The technique demonstrates complete mastery of traditional oil painting methods."
}
```
**Expected:** High execution, potentially lower originality scores

---

### Test 8: Emotionally Complex Work
**Purpose:** Test emotional resonance dimension
```json
{
  "creative_work": "A series of 52 handwritten letters, one for each week, addressed to the artist's late mother. Each letter describes mundane events of that week—grocery shopping, work meetings, weather changes—as if the mother were still alive. The letters are displayed unfolded in a grid, with the handwriting becoming noticeably shakier over the year.",
  "creator_statement": "I needed to process grief while maintaining connection. The mundane details are the point—it's in the ordinary moments we most miss the dead. I wanted viewers to feel both the comfort of routine and the weight of absence."
}
```
**Expected:** High emotional resonance, test of intentional coherence

---

### Test 9: Collaborative/Constrained Work
**Purpose:** Test constraint navigation with unusual limitations
```json
{
  "creative_work": "A community mural painted by 47 people who had never painted before, under the guidance of a professional artist. The mural depicts the history of the neighborhood using a restricted palette of 5 colors and only rectangular shapes. Despite the constraints, the mural tells coherent stories through clever use of pattern and scale.",
  "project_constraints": "Only 2 days to complete. Participants aged 8 to 82 with no art training. Budget of $500 for all materials. Required to use only leftover paint from a hardware store. Mural on rough, crumbling brick surface. Temperature was 95°F both days.",
  "target_audience": "The local community, especially long-time residents who would recognize the depicted history. Also tourists and art students interested in community-engaged practice."
}
```
**Expected:** 6 scores (4 core + constraint + audience)

---

### Test 10: Edge Case - Minimal Description
**Purpose:** Test handling of sparse input
```json
{
  "creative_work": "A small ceramic bowl, glazed in deep blue."
}
```
**Expected:** 4 scores, testing whether evaluations handle minimal information gracefully

---

## Implementation Notes

### Task Structure Strategy

Each of the 8 main tasks will contain 4 sub-tasks (vector.completion) evaluating distinct sub-dimensions. This creates 32 total evaluations that aggregate into 8 final scores.

**Alternative approach considered:** Using a single vector.completion with 4 responses per dimension. However, separate sub-tasks provide:
- More focused system prompts
- Cleaner separation of concerns
- Easier debugging and refinement

### Conditional Execution

The conditional tasks (5-8) will use the `skip` field with Starlark expressions checking for the presence of optional input fields. When a field is not provided (is None), the task produces no output and is excluded from the final vector.

### Output Vector Structure

The function produces a vector of objects, each containing:
- `dimension`: Name of the evaluation dimension
- `score`: Float from 0 to 1
- `sub_scores`: Object with 4 sub-dimension scores (for transparency)

This rich output structure allows users to understand not just overall scores but the components that contributed to each.

### Media Type Handling

All tasks accept the creative_work input which can be any of the 4 media types. The system prompts will be written to handle any media type appropriately—asking the model to evaluate what it can perceive from text descriptions, images, videos, or audio.
